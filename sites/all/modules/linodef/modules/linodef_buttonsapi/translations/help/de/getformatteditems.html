<!-- $Id: getformatteditems.html,v 1.1.2.2 2008/11/30 13:00:31 roidanton Exp $ -->
Für die meisten Schaltflächen genügt die Verwendung der hiesigen Funktion. Sie erstellt einen Array mit einem String, der eine formatierte Elementliste enthält, die die meisten Schaltflächen ohne weitere Bearbeitung nutzen können.

<h4>Name</h4>
<pre>linodef_buttonsapi_itemlist</pre>
<h4>Parameter</h4>
<dl>
<dt>string $calling_module</dt>
<dd>Der Name des Moduls, der diese Funktion aufruft. Dieser dient zum Laden der Javascript Datei sowie als Funktionsname beim Klicken auf ein Element.</dd>
<dt>string $drupal_element</dt>
<dd>Der Wert des Parameters muss ein <a href="&topic:linodef_buttonsapi/elementtypes&">unterstützter Elementtyp sein</a>.</dd>
<dt>string $option_string_path</dt>
<dd>(Optional) Enhält <a href="&topic:linodef/options&">Tag Optionen</a>, getrennt durch "_" anstatt des "," (<a href="&topic:linodef/util&">pfadkompatibel</a>).</dd>
</dl>
<h4>Rückgabewert</h4>
<ul>
<li>Ein <strong>Array</strong> mit den für die Schaltfläche benötigten Elementen:
<pre>
Array
(
    [data] => Array
        (
            [0] => Array
                (
                    [tag] => Beschreibung unten
                    [desc] => Beschreibung unten
                )
            etc. (ein Array pro Element mit Inhalt)
        )

    [name] => 'Die Bezeichnungen oder der Name des eingegebenen Elements.'
    [element type][input] => 'Der <a href="&topic:linodef_buttonsapi/elementtypes&">Elementtyp</a> des eingegebenen Elements.'
    [element type][output] => 'Der Elementtyp, den die Schaltflächen API ausgibt.'
    [element] => 'Das eingegebene Element.'
    [options] => Beschreibung unten
    [content] => Beschreibung unten
)
</pre>
<strong>'tag'</strong> beinhaltet den Tag, der durch die Schaltfläche in das Textfeld eingefügt werden soll. Das Tagformat entspricht einem <a href="&base_url&filter/tips#linodef">Linodef Filter Tag</a>.
<strong>'desc'</strong> beinhaltet den zum Tag gehörigen Text, der in der Auswahlliste des Buttons erscheinen soll; etwa ein Feldname oder Nodetitel. Bei mangelnden Zugriffsrechten des Benutzers für den aktuellen Node kann dieses Feld auch eine "Zutritt verweigert" Nachricht enthalten (der zugehörige tag Schlüssel ist dann leer).
<strong>'options'</strong> ist ein Array, falls <a href="&topic:linodef/options&">Optionen</a> gesetzt wurden oder ein leerer String.
<strong>'content'</strong> ist ein String mit einer HTML formatierten Liste von verlinkten Elementen, die mittels 'tag' und 'desc' des 'data' Arrays erstellt wurden. Dieser String kann unmittelbar mit list und popup Schaltflächen verwendet werden.
</li>
<li>oder - gesetzt den Fall, dass die Daten nicht ermittelt werden konnten - ein <strong>Array</strong> mit einer Infonachricht über die Ursache</li>
<pre>
Array
(
    [content] => 'A message'
)
</pre>
</ul>